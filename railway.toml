# 📁 Ruta: /railway.toml
# 📄 Nombre: railway.toml
# 🏗️ Propósito: Configuración optimizada Railway ERP13 Enterprise v3.1
# ⚡ Performance: Health checks, restart policies, resource management
# 🔒 Seguridad: Variables de entorno seguras, timeouts optimizados

[build]
builder = "NIXPACKS"
buildCommand = "pip install --no-cache-dir -r requirements.txt"

[deploy]
# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 300
healthcheckInterval = 30
numReplicas = 1

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Resource limits (adjust based on Railway plan)
memoryLimit = 512
cpuLimit = 1000

[environments.production]
# Production environment variables
variables = { 
    FLASK_ENV = "production",
    PYTHONPATH = "/app",
    WEB_CONCURRENCY = "2",
    GUNICORN_WORKERS = "2",
    GUNICORN_THREADS = "4",
    GUNICORN_TIMEOUT = "120"
}

[environments.development]
# Development environment (optional)
variables = { 
    FLASK_ENV = "development",
    PYTHONPATH = "/app",
    WEB_CONCURRENCY = "1"
}
